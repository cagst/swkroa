<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
	<body>
		<div data-th-fragment="sectionMembership">
			<div class="panel panel-default">
				<div class="panel-heading" data-th-text="#{com.cagst.swkroa.membership.section.membership}">
					zzz Membership Info
				</div>
				<div class="panel-body">
					<div class="row">
						<div class="col-xs-3" data-ng-class="{'has-error': membershipForm.membershipType.$invalid}">
							<label class="control-label label-required" data-th-text="#{com.cagst.swkroa.membership.type}">
								zzz Membership Type
							</label>
							<i class="fa fa-info-circle text-muted"></i>
							<select class="form-control" name="membershipType"
							        data-ng-options="type.display for type in membershipTypes"
							        data-ng-model="membership.membershipType"
							        data-ng-required="true" autofocus>
							</select>
						</div>
						<div class="col-xs-3">
							<label class="control-label" data-th-text="#{com.cagst.swkroa.membership.joined}">
								zzz Joined On
							</label>
							<div class="input-group">
								<input type="text" class="form-control" name="joinDate"
								       data-datepicker-popup="MM/dd/yyyy"
								       data-show-button-bar="false"
								       data-datepicker-options="dateOptions"
								       data-ng-model="membership.joinDate" />
								<span class="input-group-btn">
									<button type="button" class="btn btn-default" data-ng-click="openDateControl($event)">
										<i class="fa fa-calendar"></i>
									</button>
								</span>
							</div>
						</div>
						<div class="col-xs-3" data-ng-class="{'has-error': membershipForm.dueDate.$invalid}">
							<label class="control-label label-required" data-th-text="#{com.cagst.swkroa.membership.dueon}">
								zzz Due On
							</label>
							<div class="input-group">
								<input type="text" class="form-control" name="dueDate"
								       data-datepicker-popup="MM/dd/yyyy"
								       data-show-button-bar="false"
								       data-datepicker-options="dateOptions"
								       data-ng-model="membership.dueOn"
								       data-ng-required="true" />
								<span class="input-group-btn">
									<button type="button" class="btn btn-default" data-ng-click="openDateControl($event)">
										<i class="fa fa-calendar"></i>
									</button>
								</span>
							</div>
						</div>
						<div class="col-xs-3">
							<div data-ng-show="!fixedDuesAmount">
								<label>
									<span data-th-text="#{com.cagst.swkroa.membership.duesamount}">zzz Dues Amount</span>
									<span data-th-text="#{com.cagst.swkroa.membership.dues.calculated}">(zzz calculated)</span>
								</label>
								<div class="input-group">
									<input type="number" class="form-control"
									       data-ng-model="membership.calculatedDuesAmount"
									       disabled />
									<span class="input-group-btn">
										<button type="button" class="btn btn-default"
										        data-ng-click="toggleDuesAmount(true);"
										        data-th-tooltip="#{com.cagst.swkroa.membership.amountdue.calculated.tooltip}">
											<i class="fa fa-cogs muted"></i>
										</button>
									</span>
								</div>
							</div>
							<div data-ng-show="fixedDuesAmount">
								<label>
									<span data-th-text="#{com.cagst.swkroa.membership.duesamount}">zzz Dues Amount</span>
									<span data-th-text="#{com.cagst.swkroa.membership.dues.fixed}">(zzz Fixed)</span>
								</label>
								<div class="input-group">
									<input type="number" class="form-control"
									       data-ng-model="membership.duesAmount"
									       data-ng-show="!customizeDuesAmount"/>
									<span class="input-group-btn">
										<button type="button" class="btn btn-default"
										        data-ng-click="toggleDuesAmount(false);"
											      data-th-tooltip="#{com.cagst.swkroa.membership.amountdue.calculated.tooltip}">
											<i class="fa fa-cogs muted"></i>
										</button>
									</span>
								</div>
							</div>
						</div>
					</div>
					
					<div class="row spacer-top">
						<div class="col-xs-3" data-ng-class="{'has-error': membershipForm.entityType.$invalid}">
							<label class="control-label label-required" data-th-text="#{com.cagst.swkroa.membership.entity}">
								zzz Entity Type
							</label>
							<select class="form-control" name="entityType"
							        data-ng-options="entityType.display for entityType in entityTypes"
							        data-ng-model="membership.entityType"
							        data-ng-required="true">
							</select>
						</div>
						<div class="col-xs-6" data-ng-class="{'has-error': membershipForm.companyName.$invalid}">
							<label class="control-label"
							       data-ng-class="{'label-required': membership.entityType.meaning != 'ENTITY_INDIVIDUAL'}"
							       data-th-text="#{com.cagst.swkroa.membership.name.label}">
								zzz Membership Name
							</label>
							<input type="text" class="form-control" name="companyName" maxlength="250"
							       data-th-placeholder="#{com.cagst.swkroa.membership.name.prompt}"
							       data-ng-model="membership.primaryMember.companyName"
							       data-ng-disabled="membership.entityType.meaning == 'ENTITY_INDIVIDUAL'"
							       data-ng-required="membership.entityType.meaning != 'ENTITY_INDIVIDUAL'" />
						</div>
						<div class="col-xs-2">
							<div data-ng-show="fixedDuesAmount">
								<label>
									<span data-th-text="#{com.cagst.swkroa.membership.duesamount}">zzz Dues Amount</span>
									<span data-th-text="#{com.cagst.swkroa.membership.dues.calculated}">(zzz calculated)</span>
								</label>
								<div>
									{{membership.calculatedDuesAmount | currency}}
								</div>
							</div>
						</div>
						
						<div class="col-xs-1">
							<div>&nbsp;</div>
							<button type="button" class="btn btn-success btn-xs pull-right"
							        data-ng-click="addPrimaryPerson(membership.primaryMember)"
							        data-ng-show="!membership.primaryMember.person">
								<i class="fa fa-plus"></i>
								<span data-th-text="#{com.cagst.swkroa.membership.primary.person.add}">zzz Add Primary Person</span>
							</button>
							<button type="button" class="btn btn-danger btn-xs pull-right"
							        data-ng-click="removePrimaryPerson(membership.primaryMember)"
							        data-ng-show="membership.primaryMember.person && membership.entityType.meaning != 'ENTITY_INDIVIDUAL'">
								<i class="fa fa-trash-o"></i>
								<span data-th-text="#{com.cagst.swkroa.membership.primary.person.remove}">zzz Remove Primary Person</span>
							</button>
						</div>
					</div>
				</div>
			</div>
			
			<div class="panel panel-default" data-ng-show="membership.primaryMember.person">
				<div class="panel-heading">
					<span data-th-text="#{com.cagst.swkroa.membership.section.member}">zzz Member Info</span>
					<span class="pull-right">
						<button type="button" class="btn btn-success btn-xs hover-reveal"
						        data-ng-show="!membership.primarySpouse || !membership.primarySpouse.active"
						        data-ng-click="addSpouse()">
							<i class="fa fa-plus"></i>
							<span data-th-text="#{com.cagst.swkroa.membership.member.spouse.add}">zzz Add Spouse</span>
						</button>
						<button type="button" class="btn btn-danger btn-xs hover-reveal"
						        data-ng-show="membership.primarySpouse && membership.primarySpouse.active"
						        data-ng-click="removeSpouse()">
							<i class="fa fa-trash-o"></i>
							<span data-th-text="#{com.cagst.swkroa.membership.member.spouse.remove}">zzz Remove Spouse</span>
						</button>
					</span>
				</div>
				<div class="panel-body">
					<div data-th-include="membership/modify/section_primary_member"></div>
					<div data-th-include="membership/modify/section_primary_spouse"
					     data-ng-show="membership.primarySpouse && membership.primarySpouse.active"></div>
					<div data-th-include="membership/modify/section_primary_contact"></div>
				</div>
			</div>
		</div>
	</body>
</html>